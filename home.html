<!DOCTYPE html>
<html>
<head>
  <title>EMDR</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <link  javascript_include_tag 'application' >
  <link  rel="stylesheet" type="text/css" href="index.css">
  <link  stylesheet_link_tag 'application', media: 'all' >
  <link  csrf_meta_tags >
</head>

<body>

  <div id="instrument">
    <div id="box-1" class="box">
      <div id="ibox-1"></div>
    </div>
    <div id="box-2" class="box">
      <div id="ibox-2"></div>
    </div>
    <div id="box-3" class="box">
      <div id="ibox-3"></div>
    </div>
    <div id="box-4" class="box">
      <div id="ibox-4"></div>
    </div>
    <div id="box-5" class="box">
      <div id="ibox-5"></div>
    </div>
<!--     <div id="f" class="box"></div>
    <div id="g" class="box"></div> -->
    <div id="box-6" class="box">
      <div id="ibox-6"></div>
    </div>
    <div id="box-7" class="box">
      <div id="ibox-7"></div>
    </div>
    <div id="box-8" class="box">
      <div id="ibox-8"></div>
    </div>
    <div id="box-9" class="box">
      <div id="ibox-9"></div>
    </div>
    <div id="box-10" class="box">
      <div id="ibox-10"></div>
    </div>
    <div id="box-11" class="box">
      <div id="ibox-11"></div>
    </div>
     <div id="box-12" class="box">
      <div id="ibox-12"></div>
    </div>
    <div id="box-13" class="box">
      <div id="ibox-13"></div>
    </div>
    <div id="box-14" class="box">
      <div id="ibox-14"></div>
    </div>
    <div id="box-15" class="box">
      <div id="ibox-15"></div>
    </div>
    <div id="box-16" class="box">
      <div id="ibox-16"></div>
    </div>
    <div id="box-17" class="box">
      <div id="ibox-17"></div>
    </div>
    <!-- <div id="n" class="box"></div> -->
  </div>

<script>

var divs = $('div[id^="ibox-"]');
var divs2 = divs.hide();
var j = 10;

function back() {
  if(j==-1) {
    j = 1;
    return forward();
  } else {
    divs2.eq(j).fadeIn(5).delay(30).fadeOut(5, back);
    j--;
  } 
};

function forward() {
  if(j==17) {
    j=15;
    return back();
  } else {
    divs2.eq(j).fadeIn(5).delay(30).fadeOut(5, forward);
    j++;
  }   
};

back();




</script>

</body>
</html>